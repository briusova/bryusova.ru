<template>
  <div class="max-w-screen-xl mx-auto px-4 text-gray-600 md:px-8">
    <div class="rounded-3xl overflow-hidden shadow-2xl mb-24">
      <img src="my_images/veAOAZWU-Ys.jpg" alt="" decoding="async" class="h-auto min-w-2xl">
    </div>
    <div class="max-w-xl space-y-3">
      <h3 class="text-indigo-600 font-semibold">{{ the.name }}</h3>
      <p class="text-gray-800 text-3xl font-semibold sm:text-4xl">{{ visible }}<span class="blink underline decoration-slate-800 decoration-2 text-transparent">{{ title[length]
          }}</span><span class="invisible">{{ invisible }}</span></p>
   <p class="mb-6">–í—ã–±–µ—Ä–∏—Ç–µ —É–¥–æ–±–Ω—ã–π —Å–ø–æ—Å–æ–± —Å–≤—è–∑–∏: —Ç–µ–ª–µ—Ñ–æ–Ω, –º–µ—Å—Å–µ–Ω–¥–∂–µ—Ä –∏–ª–∏ —ç–ª–µ–∫—Ç—Ä–æ–Ω–Ω–∞—è –ø–æ—á—Ç–∞. <br>üìç –û—á–Ω—ã–µ –∫–æ–Ω—Å—É–ª—å—Ç–∞—Ü–∏–∏ –≤ –ö–∞–ª–∏–Ω–∏–Ω–≥—Ä–∞–¥–µ (—É–ª. –°—Ç–µ–ø–∞–Ω–∞ –†–∞–∑–∏–Ω–∞, 20)
<br>üíª –û–Ω–ª–∞–π–Ω –∫–æ–Ω—Å—É–ª—å—Ç–∞—Ü–∏–∏ –ø–æ –≤–∏–¥–µ–æ—Å–≤—è–∑–∏</p>
    </div>



    <!--el-form :model="form" label-width="auto" ref="formRef" class="max-w-96 my-12" label-position="top">
      <el-form-item label="–í–∞—à–µ –∏–º—è" prop="name" :rules="[
        {
          required: true,
          message: '–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –≤–≤–µ–¥–∏—Ç–µ —Å–≤–æ—ë –∏–º—è',
          trigger: 'blur',
        },
      ]">
        <el-input v-model="form.name" />
      </el-form-item>
      <el-form-item label="–í–∞—à —Ç–µ–ª–µ—Ñ–æ–Ω" prop="phone">
        <el-input v-model="form.phone" />
      </el-form-item>
      <el-form-item label="–í–∞—à –µ–º–µ–π–ª" prop="email" :rules="[
        {
          required: true,
          message: '–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –≤–≤–µ–¥–∏—Ç–µ –∞–¥—Ä–µ—Å —ç–ª–µ–∫—Ç—Ä–æ–Ω–Ω–æ–π –ø–æ—á—Ç—ã',
          trigger: 'blur',
        },
        {
          type: 'email',
          message: '–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –≤–≤–µ–¥–∏—Ç–µ –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–π –∞–¥—Ä–µ—Å —ç–ª–µ–∫—Ç—Ä–æ–Ω–Ω–æ–π –ø–æ—á—Ç—ã',
          trigger: ['blur', 'change'],
        },
      ]">
        <el-input v-model="form.email" />
      </el-form-item>
      <el-form-item label="–°–æ–æ–±—â–µ–Ω–∏–µ" prop="desc" :rules="[
        {
          required: true,
          message: '–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –≤–≤–µ–¥–∏—Ç–µ —Å–≤–æ—ë —Å–æ–æ–±—â–µ–Ω–∏–µ',
          trigger: 'blur',
        },
      ]">
        <el-input v-model="form.desc" type="textarea" />
      </el-form-item>
      <el-form-item>
        <el-button type="primary" @click="throttledFn">–û—Ç–ø—Ä–∞–≤–∏—Ç—å –∑–∞—è–≤–∫—É</el-button>
        <el-button @click="resetForm(formRef)">–û—á–∏—Å—Ç–∏—Ç—å —Ñ–æ—Ä–º—É</el-button>
      </el-form-item>
    </el-form-->
    <ul class="flex flex-wrap gap-x-12 gap-y-6 items-center lg:gap-x-24">
      <li v-for="(item, idx) in contactMethods" :key="idx">
        <h4 class="text-gray-800 text-lg font-medium">{{ item.title }}</h4>
        <div class="mt-3 flex items-center gap-x-3">
          <icon class="text-gray-400 size-7" :icon="item.icon"></icon>
          <a target="_blank" rel="noopener noreferrer" :href="item.href">{{ item.contact }}</a>
        </div>
      </li>
    </ul>
  </div>
</template>







<script setup vapor>
//import { useThrottleFn } from "@vueuse/core";
import { ref, inject, computed } from "vue";
//import { ElMessage } from "element-plus";

const { id } = defineProps(["id"]),
  the = inject("pages")[id],
  /*formRef = ref(),
  method = "POST",
  headers = {
    "Content-Type": "application/json",
  },
  form = reactive({
    name: "",
    phone: "",
    email: "",
    desc: "",
  }),*/
  contactMethods = [
    {
      icon: "la:phone",
      contact: "+7 (906) 792-1244",
      title: "–¢–µ–ª–µ—Ñ–æ–Ω",
      href: "tel:+79067921244",
    },
    {
      icon: "la:whatsapp",
      contact: "+79067921244",
      title: "WhatsApp",
      href: "https://wa.me/+79067921244",
      target: true,
    },
    {
      icon: "la:telegram",
      contact: "@Sasha_Bryusova",
      title: "–¢–µ–ª–µ–≥—Ä–∞–º",
      href: "https://t.me/Sasha_Bryusova",
      target: true,
    },
     {
      icon: "la:envelope",
      contact: "alexandra.bryusova@yandex.ru",
      title: "E-mail",
      href: "mailto:alexandra.bryusova@yandex.ru",
    },
  ];
  //throttledFn = useThrottleFn(sendForm, 6000);

/*function resetForm(formEl) {
  formEl?.resetFields();
}

function sendForm() {
  formRef.value?.validate(async (valid) => {
    if (valid) {
      const body = JSON.stringify(form);
      try {
        ElMessage("–û—Ç–ø—Ä–∞–≤–∫–∞ –∑–∞–ø—Ä–æ—Å–∞...");
        const response = await fetch("https://form.bryusova.ru", {
          method,
          headers,
          body,
        });
        ElMessage.closeAll();
        if (response.ok) {
          ElMessage.success(await response.text());
          formRef.value?.resetFields();
        } else ElMessage.error(`–û—à–∏–±–∫–∞: ${await response.text()}`);
      } catch ({ message }) {
        ElMessage.closeAll();
        ElMessage.error(`–û—à–∏–±–∫–∞: ${message}`);
      }
    } else ElMessage.error("–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –∑–∞–ø–æ–ª–Ω–∏—Ç–µ —Ñ–æ—Ä–º—É");
  });
}
*/

const title = `${the.title}_`;
const index = ref(0);
setInterval(() => {
  index.value += 1;
}, 200);
const length = computed(() => {
  const count = Math.floor(index.value / title.length);
  return count % 2 ? title.length - 1 : index.value - count * title.length;
});

const visible = computed(() => title.substring(0, length.value));
const invisible = computed(() => title.substring(length.value + 1));
</script>















<style scoped>
.blink {
  animation: blinker 1s step-start infinite;
}

@keyframes blinker {
  50% {
    opacity: 0;
  }
}
</style>
